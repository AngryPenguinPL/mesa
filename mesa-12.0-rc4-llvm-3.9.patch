--- mesa-12.0.0-rc4/src/gallium/state_trackers/clover/llvm/invocation.cpp.omv~	2016-07-06 09:42:36.455932478 +0200
+++ mesa-12.0.0-rc4/src/gallium/state_trackers/clover/llvm/invocation.cpp	2016-07-06 09:51:05.730802741 +0200
@@ -208,6 +208,7 @@ namespace {
       c.getInvocation().setLangDefaults(c.getLangOpts(), clang::IK_OpenCL,
 #if HAVE_LLVM >= 0x0309
                                         llvm::Triple(triple),
+					c.getPreprocessorOpts(),
 #endif
                                         clang::LangStandard::lang_opencl11);
       c.createDiagnostics(
