--- mesa-9.1-20130111/src/gallium/drivers/llvmpipe/Makefile.0901~	2013-01-04 17:20:12.000000000 +0100
+++ mesa-9.1-20130111/src/gallium/drivers/llvmpipe/Makefile	2013-01-04 20:40:12.698662693 +0100
@@ -63,7 +63,8 @@ include ../../Makefile.template
 PROGS_DEPS := ../../auxiliary/libgallium.a
 
 LDFLAGS += $(LLVM_LDFLAGS)
-LIBS += -L../../auxiliary/ -lgallium libllvmpipe.a $(LLVM_LIBS) $(GL_LIB_DEPS)
+LIBS += -L../../auxiliary/ -lgallium libllvmpipe.a
+LDADD += $(LLVM_LIBS) $(GL_LIB_DEPS)
 LD=$(CXX)
 
 $(PROGS): lp_test_main.o libllvmpipe.a
--- mesa-9.1-20130111/src/gallium/Makefile.template.0901~	2013-01-04 17:20:12.000000000 +0100
+++ mesa-9.1-20130111/src/gallium/Makefile.template	2013-01-04 20:39:14.504373955 +0100
@@ -41,7 +41,7 @@ depend: $(C_SOURCES) $(CPP_SOURCES) $(AS
 	$(MKDEP) $(MKDEP_OPTIONS) $(INCLUDES) $(C_SOURCES) $(CPP_SOURCES) $(ASM_SOURCES) $(GENERATED_SOURCES) 2> /dev/null
 
 $(PROGS): % : %.o $(PROGS_DEPS)
-	$(LD) $(LDFLAGS) $(filter %.o,$^) -o $@ -Wl,--start-group  $(LIBS) -Wl,--end-group
+	$(LD) $(LDFLAGS) $(filter %.o,$^) -o $@ -Wl,--start-group  $(LIBS) -Wl,--end-group $(LDADD)
 
 # Emacs tags
 tags:
